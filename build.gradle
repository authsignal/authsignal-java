plugins {
    id 'java-library'
    id("io.github.gradle-nexus.publish-plugin") version "1.3.0"
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'com.google.code.gson:gson:2.10.1'
    implementation "com.nimbusds:nimbus-jose-jwt:7.8.1"

    testImplementation 'junit:junit:4.13.2'
}

nexusPublishing {
  repositories {
    sonatype {
        def Properties properties = new Properties()
        properties.load(project.rootProject.file("local.properties").newDataInputStream())

        username.set(properties.getProperty("ossrhUsername"))
        password.set(properties.getProperty("ossrhPassword"))
        stagingProfileId.set(properties.getProperty("sonatypeStagingProfileId"))
        nexusUrl.set(uri(properties.getProperty("nexusUrl")))
        snapshotRepositoryUrl.set(uri(properties.getProperty("snapshotRepositoryUrl")))
    }
  }
}